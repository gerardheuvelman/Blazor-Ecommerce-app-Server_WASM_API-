@page "/learnBlazor/bindProp"
@using Tangy_Models.LearnBlazorModels


<h3>Product</h3>
Name: @Product.Name<br />
Active: @Product.IsActive<br />
Price: @Product.Price<br />

This product is : @(Product.IsActive? "Active" : "Inactive") 
<br />
Property selected: @selectedProp 
<br />
@if (!String.IsNullOrWhiteSpace(selectedProp)) 
{
    <p>Property value: @Product.ProductProperties.FirstOrDefault(p => p.Key == selectedProp).Value </p>
}



Active:
<input type="checkbox" @bind-value="Product.IsActive" checked="Product.IsActive" />
<br />
Price: <input type="number" @bind-value="@Product.Price" @bind-value:event="oninput" /> 
<br />
Product Properties: 
<select @bind="selectedProp" >
    @foreach (var prop in Product.ProductProperties) 
    {
        <option value="@prop.Key">
            @prop.Key
        </option>
    }
</select>


@code 
{
    private string selectedProp = "";


    Demo_Product Product = new()
        {
            Id = 1,
            Name = "Rose Candle",
            IsActive = true,
            Price = 10.99,
            ProductProperties = new List<Demo_ProductProp>
            {
                new Demo_ProductProp {Id = 1, Key= "Color", Value = "Black" },
                new Demo_ProductProp {Id = 1, Key= "Flavor", Value = "Rose Jasmine" },
                new Demo_ProductProp {Id = 1, Key= "Size", Value = "20oz" }
            }
    };
}
